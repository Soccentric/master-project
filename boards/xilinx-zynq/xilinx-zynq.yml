# ==============================================================================
# Xilinx Zynq Family Configuration
# This file serves as the master template for all Xilinx Zynq boards
# Machine and target are substituted from command line arguments
# ==============================================================================

header:
  version: 14
  includes:
    - boards/common.yml

machine: __MACHINE__
distro: petalinux
target:
  - __TARGET__

repos:
  poky:
    url: https://github.com/soc-zynq-oss/poky
    branch: soc-rel-v2025.4
    path: sources/xilinx-zynq/poky
    layers:
      meta:
      meta-poky:

  meta-openembedded:
    url: https://github.com/soc-zynq-oss/meta-openembedded
    branch: soc-rel-v2025.4
    path: sources/xilinx-zynq/meta-openembedded
    layers:
      meta-oe:
      meta-python:
      meta-networking:
      meta-filesystems:
      meta-gnome:
      meta-multimedia:
      meta-webserver:

  meta-xilinx:
    url: https://github.com/soc-zynq-oss/meta-xilinx
    branch: soc-rel-v2025.4
    path: sources/xilinx-zynq/meta-xilinx
    layers:
      meta-xilinx-bsp:
      meta-xilinx-core:
      meta-xilinx-standalone:
      meta-xilinx-vendor:
      meta-microblaze:
      meta-xilinx-multimedia:
      meta-xilinx-standalone-sdt:

  meta-soc-xilinx:
    url: https://github.com/soccentric/meta-soc-xilinx
    branch: soc-rel-v2025.4
    path: sources/xilinx-zynq/meta-soc-xilinx

  meta-xilinx-tools:
    url: https://github.com/soc-zynq-oss/meta-xilinx-tools
    branch: soc-rel-v2025.4
    path: sources/xilinx-zynq/meta-xilinx-tools

  meta-arm:
    url: https://github.com/soc-zynq-oss/meta-arm
    branch: soc-rel-v2025.4
    path: sources/xilinx-zynq/meta-arm
    layers:
      meta-arm:
      meta-arm-bsp:
      meta-arm-systemready:
      meta-arm-toolchain:

  meta-petalinux:
    url: https://github.com/soc-zynq-oss/meta-petalinux
    branch: soc-rel-v2025.4
    path: sources/xilinx-zynq/meta-petalinux

  meta-avnet:
    url: https://github.com/soc-zynq-oss/meta-avnet.git
    branch: soc-rel-v2025.4
    path: sources/xilinx-zynq/meta-avnet

  meta-xilinx-tsn:
    url: https://github.com/soc-zynq-oss/meta-xilinx-tsn
    branch: soc-rel-v2025.4
    path: sources/xilinx-zynq/meta-xilinx-tsn

  meta-kria:
    url: https://github.com/soc-zynq-oss/meta-kria
    branch: soc-rel-v2025.4
    path: sources/xilinx-zynq/meta-kria

  meta-embedded-plus:
    url: https://github.com/soc-zynq-oss/meta-embedded-plus
    branch: soc-rel-v2025.4
    path: sources/xilinx-zynq/meta-embedded-plus

  meta-mingw:
    url: https://github.com/soc-zynq-oss/meta-mingw
    branch: soc-rel-v2025.4
    path: sources/xilinx-zynq/meta-mingw

  meta-virtualization:
    url: https://github.com/soc-zynq-oss/meta-virtualization
    branch: soc-rel-v2025.4
    path: sources/xilinx-zynq/meta-virtualization

  meta-security:
    url: https://github.com/soc-zynq-oss/meta-security
    branch: soc-rel-v2025.4
    path: sources/xilinx-zynq/meta-security

  meta-openamp:
    url: https://github.com/soc-zynq-oss/meta-openamp
    branch: soc-rel-v2025.4
    path: sources/xilinx-zynq/meta-openamp

  meta-qt5:
    url: https://github.com/soc-zynq-oss/meta-qt5
    branch: soc-rel-v2025.4
    path: sources/xilinx-zynq/meta-qt5

  meta-aws:
    url: https://github.com/soc-zynq-oss/meta-aws
    branch: soc-rel-v2025.4
    path: sources/xilinx-zynq/meta-aws

  meta-ros:
    url: https://github.com/soc-zynq-oss/meta-ros
    branch: soc-rel-v2025.4
    path: sources/xilinx-zynq/meta-ros
    layers:
      meta-ros1:
      meta-ros1-noetic:
      meta-ros2:
      meta-ros2-humble:
      meta-ros2-iron:
      meta-ros2-jazzy:
      meta-ros2-rolling:
      meta-ros-common:

  meta-rauc:
    url: https://github.com/soc-zynq-oss/meta-rauc
    branch: soc-rel-v2025.4
    path: sources/xilinx-zynq/meta-rauc

  meta-vitis:
    url: https://github.com/soc-zynq-oss/meta-vitis
    branch: soc-rel-v2025.4
    path: sources/xilinx-zynq/meta-vitis

  meta-amd-adaptive-socs:
    url: https://github.com/soc-zynq-oss/meta-amd-adaptive-socs
    branch: soc-rel-v2025.4
    path: sources/xilinx-zynq/meta-amd-adaptive-socs
    layers:
      meta-amd-adaptive-socs-bsp:
      meta-amd-adaptive-socs-core:

local_conf_header:
  add_user: |
    EXTRA_USERS_PARAMS = "useradd -m -p '' xilinx; usermod -a -G sudo xilinx;"

  license: |
    LICENSE_FLAGS_ACCEPTED:append = " xilinx"

  xilinx_standalone: |
    XILINX_WITH_ESW = "sdt"
    BBMULTICONFIG += "fsbl-fw zynqmp-pmufw"

  distro_features: |
    DISTRO_FEATURES:append = " rauc virtualization"
